{% extends  "base.html" %}
{% load static %}

{% block title %}
collections
{% endblock %}

{% block mymessage %}

  {% include 'navbar.html' %}
  

  
  
  <style>
   
#scrollToTop {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color:brown;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: none;
  width: 200px;
}
    .card-body{
      position: relative;
    }

   #counter-value {
    width: 33px;
    background-color: aliceblue;
    text-align: center;
    align-content: center;
}
     #btn-group{
      position: absolute;
      bottom: 15px;
      right: 53PX;
    
    } 
  </style>
  {% include 'message.html' %}
  
  <section class="bg-light py-4 m-5">
  <div class="container">
    <div class="row" >
        <div class=" col-12">
          <h4 class="mb-3">Products</h4>
          <hr style="border-color: white;">
        </div>
        
        
          {% if query %}
          <p>Search results for "{{ query }}":</p>
          {% endif %}
        {% for product in products %}
        
        <div class="col-md-4 col-lg-4 product">
          <div class="card my-3">
            <img src="{{product.product_image.url}}" alt="categories" class="card-image-top" height="300px" width="354px">
            
            <div class="card-body" style="height: 550px;">
              <h5 class="card-title text-primary text-center">{{product.name}} </h5>
              <p class="card-text">
                <span class="float-start bg-danger text-white p-1" style="border-radius:10px"><s>Rs.{{product.original_price}}</s></span>
                <span style="color: firebrick;" class="ps-2">RENT:{{product.rent}}</span>
                <span class="float-end  bg-success text-white p-1" style="border-radius:10px">Rs.{{product.selling_price }}</span><br>
                <p >{{product.description}}</p>
                </p>
                <span class="bg-secondary text-white p-1  " style="border-radius:10px">Stock: {{product.quantity}} nos</span>
               
                <form action="" method="POST">
                  <input type="text" placeholder="Product id" class="form-control text-center mt-3" name="product_id">
                  <h5>Product quantity</h5>
                  <input type="number" class="form-control" name="product_qty">
                  
                  <h5>Select Duration (For Rent)</h5>
                  <select name="" id="" class="mb-3">
                  <option value="">Choose an Option</option>
                  <option value="">15 Days</option>
                  <option value="">1 Month</option>
                  <option value="">3 Months</option>
                  <option value="">6 Months</option>
                 </select><br>
                 
                  {% if product.quantity > 0 %}
                    <a href="" class="btn btn-primary btn-sm" id="btnCart" >ADD TO CART</a>
                    <a href="" class="btn btn-success btn-sm" >BUY NOW</a>
                    <a href="" class="btn  btn-sm text-white" style="background-color: orange;">RENT NOW</a>
                    {% else %}
                    <button class="btn btn-danger" align-center>Out of Stock</button>
                    {% endif %}
                  </form>

                <h5 class="pt-2">No Of Quantity:</h5> 
                {% csrf_token %}
                <div class="btn-group  " role="group" aria-label="Basic mixed styles example" style="margin-left: 20px;">
                  <button type="button" class="btn text-white" style="background-color: darkmagenta;" id="decrement-btn">-</button>
                  <div id="counter-value">0</div>
                  <button type="button" class="btn text-white" style="background-color: darkkhaki;" id="increment-btn">+</button>
                  <button type="button" class="btn  text-white" style="background-color:darkgoldenrod;" id="reset">Reset</button>
                </div>  
                <!-- <h5 style="color: navy;"><u>For Rent:</u></h5>
                <h6 style="color: firebrick;">{{product.rent}}</h6>
                
                 
                    <h5>Select Duration</h5>
                  <select name="" id="" class="ms-2">
                  <option value="">Choose an Option</option>
                  <option value="">15 Days</option>
                  <option value="">1 Month</option>
                  <option value="">3 Months</option>
                  <option value="">6 Months</option>
                 </select> -->
                 

               <!-- {% if product.quantity > 0 %}
               <input type="hidden" value="products.id" id="pid">
               
              <div class="btn-group" id="btn-group">
              <a href="" class="btn btn-primary btn-sm" id="btnCart" >ADD TO CART</a>
              <a href="" class="btn btn-success btn-sm" >BUY NOW</a>
              <a href="" class="btn  btn-sm text-white" style="background-color: orange;">RENT NOW</a>
            </div>
            {% else %}
            <button class="btn btn-danger" align-center>Out of Stock</button>
            {% endif %} -->
            </div>
          </div>

        </div>
          
          

           {% endfor %}
          
          
           <button id="scrollToTop">Scroll to Top</button>
          </section> 

          
          <script>
            var scrollToTopButton = document.getElementById("scrollToTop");
            
            window.addEventListener("scroll", function() {
              if (window.scrollY > 200) {
                  scrollToTopButton.style.display = "block";
              } else {
                  scrollToTopButton.style.display = "none";
              }
            });
            
            // Scroll to the top 
            scrollToTopButton.addEventListener("click", function() {
              window.scrollTo({
                  top: 0,
                  behavior: "smooth"
              });
            });
            </script> 
           
{% endblock %}

{% block script %}
<script>
let counter = 0;

const counterValue = document.getElementById('counter-value');
const incrementBtn = document.getElementById('increment-btn');
const decrementBtn = document.getElementById('decrement-btn');
const resetBtn = document.querySelector('#reset');

// To increment the value of counter
incrementBtn.addEventListener('click', () => {
    counter++;
    counterValue.innerHTML = counter;
    console.log(counter);
});

// To decrement the value of counter
decrementBtn.addEventListener('click', () => {
    counter--;
    counterValue.innerHTML = counter;

    console.log(counter);
});

// To reset the counter to zero
resetBtn.addEventListener('click', reset);

function reset() {
    counter = 0;
    counterValue.innerHTML = counter;
}

</script>
{% endblock %}



{% block footer %}

{% include 'footer.html' %}
{% endblock %}


